(()=>{var t={548:()=>{document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(t){"modal-close"==t.target.id&&(t.preventDefault(),document.querySelector(".modal").classList.remove("is-active"))}),!1)}))}},e={};function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";i(548);var t=new Object;function e(){const{createApp:t}=Vue;let e=this;this.el=document.getElementById("main-app"),this.itemsPerPage=Number(this.el.getAttribute("data-item-per-page"));const i=e.el.getAttribute("data-endpoint"),r=e.el.getAttribute("data-delete-endpoint"),o=e.el.getAttribute("data-method");t({data:()=>({showDeletePopup:!1,deleteId:0,grid:{pagination:{currentPage:1,totalPage:0,rowPerPage:20},rows:[]},filter:{brandId:0,c3Style:"",collection:"",supplierStyle:"",description:"",coo:"",productGroup:"",sizes:"",colour:""}}),mounted(){this.populateGrid(1)},methods:{populateGrid(t){let r={filters:{filterSupplier:this.filter.brandId,filterC3Style:this.filter.c3Style,filterCollection:this.filter.collection,filterSupplierStyle:this.filter.supplierStyle,filterDescription:this.filter.description,FilterCOO:this.filter.coo,filterProductGroup:this.filter.productGroup,filterSizes:this.filter.sizes,filterColour:this.filter.colour},pageNumber:t,itemsPerPage:e.itemsPerPage},n=this.grid;fetch(i,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(r),data:"GET"!=o?null:JSON.stringify(r)}).then((t=>t.json())).then((function(t){n.pagination.totalPage=t.totalPage,void 0!==t.pricings&&(n.rows=[],t.pricings.forEach((t=>{n.rows.push(t)})))}))},filterResults(){this.populateGrid(1)},gotoPage(t){this.grid.pagination.currentPage=Number(t.srcElement.value),this.populateGrid(this.grid.pagination.currentPage)},gotoPreviousPage(t){t.preventDefault(),this.grid.pagination.currentPage>1&&(this.grid.pagination.currentPage--,this.populateGrid(this.grid.pagination.currentPage))},gotoNextPage(t){t.preventDefault(),this.grid.pagination.currentPage<this.grid.pagination.totalPage&&(this.grid.pagination.currentPage++,this.populateGrid(this.grid.pagination.currentPage))},loadDeleteConfirmation(t){this.showDeletePopup=!0,this.deleteId=t},deleteProductPrice(){let t={id:this.deleteId};fetch(r,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(t),data:"GET"!=o?null:JSON.stringify(t)}).then((t=>t.json())).then((function(t){t.success?location.reload():console.log(t.message)}))}}}).mount("#main-app")}document.addEventListener("DOMContentLoaded",(function(){t.PricingListing=new e}))})()})();