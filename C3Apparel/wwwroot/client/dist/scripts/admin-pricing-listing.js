(()=>{var e={548:()=>{document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){"modal-close"==e.target.id&&(e.preventDefault(),document.querySelector(".modal").classList.remove("is-active"))}),!1)}))}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";i(548);var e=new Object;function t(){const{createApp:e}=Vue;let t=this;this.el=document.getElementById("main-app"),this.itemsPerPage=Number(this.el.getAttribute("data-item-per-page"));const i=t.el.getAttribute("data-endpoint"),r=t.el.getAttribute("data-delete-endpoint"),o=t.el.getAttribute("data-method");e({data:()=>({showDeletePopup:!1,deleteId:0,grid:{pagination:{currentPage:1,totalPage:0,rowPerPage:20},rows:[]},filter:{brandId:0,c3Style:"",collection:"",supplierStyle:"",description:"",coo:"",productGroup:"",sizes:"",colour:""}}),mounted(){this.populateGrid(1)},methods:{populateGrid(e){let r={filters:{filterSupplier:this.filter.brandId,filterC3Style:this.filter.c3Style,filterCollection:this.filter.collection,filterSupplierStyle:this.filter.supplierStyle,filterDescription:this.filter.description,FilterCOO:this.filter.coo,filterProductGroup:this.filter.productGroup,filterSizes:this.filter.sizes,filterColour:this.filter.colour},pageNumber:e,itemsPerPage:t.itemsPerPage},n=this.grid;fetch(i,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(r),data:"GET"!=o?null:JSON.stringify(r)}).then((e=>e.json())).then((function(e){n.pagination.totalPage=e.totalPage,void 0!==e.pricings&&(n.rows=[],e.pricings.forEach((e=>{n.rows.push(e)})))}))},filterResults(){console.log("filterresults"),this.populateGrid(1)},gotoPage(e){this.grid.pagination.currentPage=Number(e.srcElement.value),this.populateGrid(this.grid.pagination.currentPage)},gotoPreviousPage(e){e.preventDefault(),this.grid.pagination.currentPage>1&&(this.grid.pagination.currentPage--,this.populateGrid(this.grid.pagination.currentPage))},gotoNextPage(e){e.preventDefault(),this.grid.pagination.currentPage<this.grid.pagination.totalPage&&(this.grid.pagination.currentPage++,this.populateGrid(this.grid.pagination.currentPage))},loadDeleteConfirmation(e){this.showDeletePopup=!0,this.deleteId=e},deleteProductPrice(){let e={id:this.deleteId};console.log("delete",e),fetch(r,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(e),data:"GET"!=o?null:JSON.stringify(e)}).then((e=>e.json())).then((function(e){e.success?location.reload():console.log(e.message)}))}}}).mount("#main-app")}document.addEventListener("DOMContentLoaded",(function(){e.PricingListing=new t}))})()})();