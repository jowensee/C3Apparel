(()=>{var e={548:()=>{document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){"modal-close"==e.target.id&&(e.preventDefault(),document.querySelector(".modal").classList.remove("is-active"))}),!1)}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(548);var e=new Object;function t(){const{createApp:e}=Vue;let t=this;this.el=document.getElementById("main-app"),this.filterName="",this.filterFocus="",this.filterCurrency="",this.itemsPerPage=Number(this.el.getAttribute("data-item-per-page")),""!=document.getElementById("filterName").value&&(this.filterName=document.getElementById("filterName").value),""!=document.getElementById("filterFocus").value&&(this.filterFocus=document.getElementById("filterFocus").value),""!=document.getElementById("filterCurrency").value&&(this.filterCurrency=document.getElementById("filterCurrency").value);const r=t.el.getAttribute("data-endpoint"),n=t.el.getAttribute("data-delete-endpoint"),i=t.el.getAttribute("data-method");e({data:()=>({showDeletePopup:!1,deleteId:0,grid:{pagination:{currentPage:1,totalPage:0,rowPerPage:20},rows:[]}}),mounted(){this.populateGrid(1)},methods:{populateGrid(e){let n={filters:{filterName:this.filterName,filterFocus:this.filterFocus,filterCurrency:this.filterCurrency},pageNumber:e,itemsPerPage:t.itemsPerPage},a=this.grid;fetch(r,{method:i,headers:{"Content-Type":"application/json"},body:"GET"==i?null:JSON.stringify(n),data:"GET"!=i?null:JSON.stringify(n)}).then((e=>e.json())).then((function(e){a.pagination.totalPage=e.totalPage,void 0!==e.brands&&(a.rows=[],e.brands.forEach((e=>{a.rows.push(e)})))}))},gotoPage(e){this.grid.pagination.currentPage=Number(e.srcElement.value),this.populateGrid(this.grid.pagination.currentPage)},gotoPreviousPage(e){e.preventDefault(),this.grid.pagination.currentPage>1&&(this.grid.pagination.currentPage--,this.populateGrid(this.grid.pagination.currentPage))},gotoNextPage(e){e.preventDefault(),this.grid.pagination.currentPage<this.grid.pagination.totalPage&&(this.grid.pagination.currentPage++,this.populateGrid(this.grid.pagination.currentPage))},loadDeleteConfirmation(e){this.showDeletePopup=!0,this.deleteId=e},deleteBrand(){let e={id:this.deleteId};console.log("delete",e),fetch(n,{method:i,headers:{"Content-Type":"application/json"},body:"GET"==i?null:JSON.stringify(e),data:"GET"!=i?null:JSON.stringify(e)}).then((e=>e.json())).then((function(e){e.success?location.reload():console.log(e.message)}))}}}).mount("#listingMain")}document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){if("buttonSearch"!=e.target.id)return;e.preventDefault();let t=document.querySelector(".filter-container");t.classList.remove("show-error");var r=document.getElementById("selectBrand");if(""==r.value)return t.classList.add("show-error"),void(t.querySelector(".error").textContent="Please select a brand");location="?brandid="+r.value}),!1),e.BrandListing=new t}))})()})();