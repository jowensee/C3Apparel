(()=>{var e={548:()=>{document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(function(e){"modal-close"==e.target.id&&(e.preventDefault(),document.querySelector(".modal").classList.remove("is-active"))}),!1)}))}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(548),(new Object).RateEdit=new function(){const{createApp:e}=Vue;let t=this;this.el=document.getElementById("editMain");const r=t.el.getAttribute("data-endpoint-get"),a=t.el.getAttribute("data-endpoint-save"),o=t.el.getAttribute("data-method");e({components:{Datepicker:VueDatePicker},data:()=>({rate:{id:Number(t.el.getAttribute("data-id")),sourceCurrency:"",audValue:0,nzdValue:0,validFrom:"",validTo:""},formErrorMessage:"",showSuccess:!1,errors:[]}),mounted(){this.rate.id>0&&this.populateForm(this.rate.id)},methods:{populateForm(e){let t={id:e},a=this.rate;fetch(r,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(t),data:"GET"!=o?null:JSON.stringify(t)}).then((e=>e.json())).then((function(e){a.id=e.rate.id,a.sourceCurrency=e.rate.sourceCurrency,a.audValue=e.rate.audValue,a.nzdValue=e.rate.nzdValue,a.validFrom=e.rate.validFrom,a.validTo=e.rate.validTo}))},validiteForm(){this.errors=[];let e=!0;return""==this.rate.sourceCurrency.trim()&&(this.errors.push("<b>Source Currency:</b> Please select one"),e=!1),isNaN(this.rate.audValue)&&(this.errors.push("<b>AUD Value:</b> Please enter a decimal value"),e=!1),isNaN(this.rate.nzdValue)&&(this.errors.push("<b>NZD Value:</b> Please enter a decimal value"),e=!1),e},saveExchangeRate(){if(this.showSuccess=!1,!this.validiteForm())return;let e=this,t={id:e.rate.id,sourceCurrency:e.rate.sourceCurrency,audValue:e.rate.audValue,nzdValue:e.rate.nzdValue,validFrom:e.rate.validFrom,validTo:e.rate.validTo};fetch(a,{method:o,headers:{"Content-Type":"application/json"},body:"GET"==o?null:JSON.stringify(t),data:"GET"!=o?null:JSON.stringify(t)}).then((e=>e.json())).then((function(t){t.success?e.showSuccess=!0:e.formErrorMessage=t.message}))}}}).mount("#editMain")}})()})();